general:
  name: Tests for SDM.py

  tests:
    - test:
        call: test_create_hard_locations
        cases:
          - case:
              input:  [10, 10, 10, 20, 2, True]
              output: 10

    - test:
        call: hamming_distance
        cases:
          - case:
              input:  ['011', '010']
              output: 1
          - case:
              input:  ['011', '011']
              output: 0
          - case:
              input:  ['011', '000']
              output: 2
          - case:
              input:  ['011', '100']
              output: 3

    - test:
        call: test_near_hard_locations
        cases:
          - case:
              input:  ['00110011',3, ['00111111', '10001100', '11110010', '10110100']]
              output: ['00111111', '11110010']

    - test:
        call: test_create_random_hard_locations
        cases:
          - case:
              input:  [6, 64, 6, 6, True]
              output: 6

    - test:
        call: test_create_uniform_hard_locations
        cases:
          - case:
              input:  [6, 64, 6, 6, True]
              output: 6

    - test:
        call: random_near_address
        desc: given is a random process, output is never the same
        cases:
          - case:
              input:  ['010101', 2]
              output: '010100'

    - test:
        call: test_sdm_write_read
        cases:
          - case:
              desc:   example from https://arxiv.org/pdf/1207.5774.pdf
              input:  [6, 6, 4, 1, 2, True, ['111101', '011100', '110100', '101101'], [['111100', '001100']], ['111101', '111100', '01000']]
              output: ['001100', '001100', '000000']
          - case:
              desc:   creates hard locations on demand
              input:  [6, 6, 4, 1, 2, True, [], [['111100', '001100']], ['111101', '111100', '01000']]
              output: ['001100', '001100', '001100']
